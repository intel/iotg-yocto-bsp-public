From f4c3ae2dbd761fe4237c7e201a70452fe964c2cd Mon Sep 17 00:00:00 2001
From: icg_intg <icg_intg@intel.com>
Date: Tue, 8 May 2018 13:30:07 +0800
Subject: [PATCH 010/129] =?UTF-8?q?media:=20intel-ipu4p:=20css:=20scci=5FI?=
 =?UTF-8?q?PU4=5Fmaster=5F20180506=5F1519=C2=A0fw=20release?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Message for Open Source:
New firmware css release.

Message for Internal:
[Feature]New firmware css release.
[Root Cause/Changes]
isys & psys package lib2600b0 for commit-id d6ea2ee
FW_Manifest_ID: 6b5f05779ec14388aac50c0172003431dabac0de
FW_Build_Branch: IPU4_master
FW_Build_Topic: auto_merge_queue
library version for ipu4p: commit-id d6ea2ee
FW Bundle patch number of this release :Â  326993
FW tag : scci_IPU4_master_20180506_1519

Change-Id: I705ad5ea6fc88d93c839db02f4bef4435d32d605
Depends-on: Ie7a5b0a94d98b919387b844dc3b1cd00f03f35e6
Depends-on: Id12689e141951d7a88895ad862a0fcc22fbc03bc
Depends-on: I6a148b95e44ad9d2039634604d4ebe1c623ad703
Signed-off-by: icg_intg <icg_intg@intel.com>
Signed-off-by: Meng Wei <wei.meng@intel.com>
---
 .../media/pci/intel/ipu4/ipu4p-css/ia_css_fw_pkg_release.h |  2 +-
 .../ipu4p-css/lib2600/cpd_binary/ia_css_fw_pkg_release.h   |  2 +-
 .../lib/CNL_program_group/ia_css_fw_pkg_release.h          |  2 +-
 .../lib/ICL_program_group/ia_css_fw_pkg_release.h          |  2 +-
 .../lib/psysapi/static/src/ia_css_psys_program_manifest.c  | 14 ++++++++++++++
 5 files changed, 18 insertions(+), 4 deletions(-)

diff --git a/drivers/media/pci/intel/ipu4/ipu4p-css/ia_css_fw_pkg_release.h b/drivers/media/pci/intel/ipu4/ipu4p-css/ia_css_fw_pkg_release.h
index 29eef75..c6f47ef 100644
--- a/drivers/media/pci/intel/ipu4/ipu4p-css/ia_css_fw_pkg_release.h
+++ b/drivers/media/pci/intel/ipu4/ipu4p-css/ia_css_fw_pkg_release.h
@@ -11,4 +11,4 @@
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
 * more details.
 */
-#define IA_CSS_FW_PKG_RELEASE  0x20180427
+#define IA_CSS_FW_PKG_RELEASE  0x20180506
diff --git a/drivers/media/pci/intel/ipu4/ipu4p-css/lib2600/cpd_binary/ia_css_fw_pkg_release.h b/drivers/media/pci/intel/ipu4/ipu4p-css/lib2600/cpd_binary/ia_css_fw_pkg_release.h
index 29eef75..c6f47ef 100644
--- a/drivers/media/pci/intel/ipu4/ipu4p-css/lib2600/cpd_binary/ia_css_fw_pkg_release.h
+++ b/drivers/media/pci/intel/ipu4/ipu4p-css/lib2600/cpd_binary/ia_css_fw_pkg_release.h
@@ -11,4 +11,4 @@
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
 * more details.
 */
-#define IA_CSS_FW_PKG_RELEASE  0x20180427
+#define IA_CSS_FW_PKG_RELEASE  0x20180506
diff --git a/drivers/media/pci/intel/ipu4/ipu4p-css/lib2600psys/lib/CNL_program_group/ia_css_fw_pkg_release.h b/drivers/media/pci/intel/ipu4/ipu4p-css/lib2600psys/lib/CNL_program_group/ia_css_fw_pkg_release.h
index 29eef75..c6f47ef 100644
--- a/drivers/media/pci/intel/ipu4/ipu4p-css/lib2600psys/lib/CNL_program_group/ia_css_fw_pkg_release.h
+++ b/drivers/media/pci/intel/ipu4/ipu4p-css/lib2600psys/lib/CNL_program_group/ia_css_fw_pkg_release.h
@@ -11,4 +11,4 @@
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
 * more details.
 */
-#define IA_CSS_FW_PKG_RELEASE  0x20180427
+#define IA_CSS_FW_PKG_RELEASE  0x20180506
diff --git a/drivers/media/pci/intel/ipu4/ipu4p-css/lib2600psys/lib/ICL_program_group/ia_css_fw_pkg_release.h b/drivers/media/pci/intel/ipu4/ipu4p-css/lib2600psys/lib/ICL_program_group/ia_css_fw_pkg_release.h
index 29eef75..c6f47ef 100644
--- a/drivers/media/pci/intel/ipu4/ipu4p-css/lib2600psys/lib/ICL_program_group/ia_css_fw_pkg_release.h
+++ b/drivers/media/pci/intel/ipu4/ipu4p-css/lib2600psys/lib/ICL_program_group/ia_css_fw_pkg_release.h
@@ -11,4 +11,4 @@
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
 * more details.
 */
-#define IA_CSS_FW_PKG_RELEASE  0x20180427
+#define IA_CSS_FW_PKG_RELEASE  0x20180506
diff --git a/drivers/media/pci/intel/ipu4/ipu4p-css/lib2600psys/lib/psysapi/static/src/ia_css_psys_program_manifest.c b/drivers/media/pci/intel/ipu4/ipu4p-css/lib2600psys/lib/psysapi/static/src/ia_css_psys_program_manifest.c
index 9514813..3fb92a0 100644
--- a/drivers/media/pci/intel/ipu4/ipu4p-css/lib2600psys/lib/psysapi/static/src/ia_css_psys_program_manifest.c
+++ b/drivers/media/pci/intel/ipu4/ipu4p-css/lib2600psys/lib/psysapi/static/src/ia_css_psys_program_manifest.c
@@ -1059,6 +1059,14 @@ void ia_css_program_manifest_init(
    supported in the firmware
   */
 #if !defined(__HIVECC)
+
+#if defined(_MSC_VER)
+/* WA for a visual studio compiler bug, refer to
+ developercommunity.visualstudio.com/content/problem/209359/ice-with-fpfast-in-156-and-msvc-daily-1413263051-p.html
+*/
+#pragma optimize( "", off )
+#endif
+
 int ia_css_program_manifest_print(
 	const ia_css_program_manifest_t *manifest,
 	void *fid)
@@ -1223,5 +1231,11 @@ int ia_css_program_manifest_print(
 	}
 	return retval;
 }
+
+#if defined(_MSC_VER)
+/* WA for a visual studio compiler bug */
+#pragma optimize( "", off )
+#endif
+
 #endif
 
-- 
1.9.1

